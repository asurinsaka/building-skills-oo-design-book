
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Preface &#8212; Building Skills in Object-Oriented Design 4.2003 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Foundations" href="starting/foundation.html" />
    <link rel="prev" title="Building Skills in Object-Oriented Design, V4" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="preface">
<h1>Preface<a class="headerlink" href="#preface" title="Permalink to this headline">¶</a></h1>
<div class="section" id="why-read-this-book">
<h2>Why Read This Book?<a class="headerlink" href="#why-read-this-book" title="Permalink to this headline">¶</a></h2>
<p>One way to master the OO design skill is to do the design and implementation of a large number of classes.
Mastery comes from patient, hard work, building software.</p>
<p>This book guides you through a series exercises to design and build dozens of classes.
The goal is
to create a large – and reasonably complete – application. You’ll build and test
classes, write definitions, and see how the process of software construction works.</p>
<p>While it is also important to read examples of good design,
seeing a finished product doesn’t reveal the designer’s decision-making process.
Our goal in this book is to help programmer understand the design process that
leads to a final product.</p>
<p>This means there will be design changes and rework. One set of exercises will
suggest one solution, and another set will suggest improvements.</p>
<p><strong>Everything is Design</strong>.
All software development involves considerable skill in design.
The distinction between “design” and “code” is blurry at best.
Pragmatically, it doesn’t exist at all.</p>
<p>In some circles, there is an attempt to distinguish between
designers (or architects) and coders. The idea is that someone able to
work with a language – coding – may not quite be ready to do design work.</p>
<p>Consider an organization where designers are tasked to create detailed specifications.
These are given to coders to translate from natural language (e.g., English) into Python.
In this fantasy world, the coders are not expected
to make any further design decisions. They’re “rewriting” natural language
to artificial language. This work is analagous to brick-layers who don’t make
architectural design decisions.</p>
<p>The analogy, however, is flawed.</p>
<p>If the specification is so complete no further design decisions are required,
the specification was isomorphic to the resulting code.
A compiler could have translated the gloriously complete specification into
the target programming language. No coder is required.</p>
<p>Pragmatically, designers write specifications at a somewhat more abstract level.
A designer expects the coder to make a few small design decisions
as part of moving from the natural-language prose to concrete code.
The more abstract the specification, the more design work must be done.
The amount of design work is <strong>always</strong> non-zero; the boundary
between design and code is blurry at best.</p>
<p>The distinction between “design” and “code” is a matter of making informed
decisions about data structures and algorithms. This book provides a
number of contexts in which decisions must be made, and implemented.</p>
<p>The idea is to have a graduated sequence of decisions from relatively simple
to relatively profound.</p>
</div>
<div class="section" id="what-you-ll-do">
<h2>What You’ll Do<a class="headerlink" href="#what-you-ll-do" title="Permalink to this headline">¶</a></h2>
<p>This book provides a sequence of interesting and moderately complex exercises in
OO Design.  The exercises are not hypothetical,
but must lead directly to working programs. Unit tests are expected.
We’ll demonstrate how to structure Python 3.7 type hints, also.</p>
<p>The applications we will build are a step above trivial,
and will require some careful thought to create a workable design.
Further, because the applications are largely recreational in nature, they
may be more interesting and engaging than other examples in other
books on design.</p>
<p>The exercises in the first part will be quite detailed.
The detail is less in the second section. The third part will summarize
the designs at a higher level of abstraction, expecting more
from the reader.</p>
</div>
<div class="section" id="audience">
<h2>Audience<a class="headerlink" href="#audience" title="Permalink to this headline">¶</a></h2>
<p>Our primary audience includes programmers who are new to OO Design and OO Programming.</p>
<p>Knowledge of the Python language is essential. Since the focus is on
OO techniques, some exposure to class definitions is important.
We will provide exercises
that have four key features:</p>
<ul class="simple">
<li><p>complex enough to require careful design work,</p></li>
<li><p>fun enough to be engaging,</p></li>
<li><p>easy enough that results are available immediately, and</p></li>
<li><p>can be built in successive stages.</p></li>
</ul>
<p>We’ll provide a few
additional details on language features. We’ll mark these as “Tips”.
For more advanced students, these tips will be review material. We will not
provide a thorough background in any programming language. The student
is expected to know the basics of the language and tools.</p>
<p>Helpful additional skills include using one of the various unit test and
documentation frameworks available. We’ve included information in the appendices.</p>
<p><strong>Classroom Use</strong>.
Instructors are always looking for classroom projects that are engaging,
comprehensible, and focus on perfecting language skills. Many real-world
applications require considerable explanation of the problem domain; the
time spent reviewing background information detracts from the time
available to do the programming. While all application
programming requires some domain knowledge, the idea behind these
exercises is to pick a domain that many people know a little bit about.
This allows an instructor to use some or all of these exercises without
wasting precious classroom time on incidental details required to
understand the problem.</p>
</div>
<div class="section" id="skills-required">
<h2>Skills Required<a class="headerlink" href="#skills-required" title="Permalink to this headline">¶</a></h2>
<p>This book assumes an introductory level of skill in the
Python language. We’ll focus on Python 3.7 as a minimum.</p>
<p>Student skills we expect include the following.  If you can’t do these
things, this book may be too advanced.</p>
<ul class="simple">
<li><p>Install Python and various tools. The tools include
<strong>pytest</strong>, <strong>mypy</strong>, and <strong>sphinx</strong>.</p></li>
<li><p>Create source files, run application programs, and run tools.
We don’t discuss any specific Integrated
Development Environment (IDE), but learning how to use
and IDE can be helpful. We leave it to the reader to experiment
with IDE selection.</p></li>
<li><p>Use of the core procedural programming constructs: variables,
statements, exceptions, functions.</p></li>
<li><p>Some exposure to class definitions and subclasses. This includes
managing the basic features of inheritance, as well as overloaded
method names.</p></li>
<li><p>Some exposure to Python’s variety of built-in collections.</p></li>
<li><p>Some exposure to Python’s type hints.</p></li>
<li><p>Optionally, some experience with a unit testing framework. We’ll
emphasis the <strong>pytest</strong> framework because it’s very easy to use.</p></li>
</ul>
</div>
<div class="section" id="organization-of-this-book">
<h2>Organization of This Book<a class="headerlink" href="#organization-of-this-book" title="Permalink to this headline">¶</a></h2>
<p>This book presents a series of exercises to build simulations of the
common, popular casino table games: Roulette, Craps,
and  Blackjack. Each simulation can be extended to include
variations on the player’s betting system. With a simple statistical
approach, we can show the realistic expectations for any betting system.</p>
<p>Each game has a separate part in this book. Each part consists
of a number of individual exercises to build the entire simulation. The
completed project results in an application that can provide
tabular results that shows the average losses expected from each betting strategy.</p>
<p>Yes: losses. Only the house wins in a casino.</p>
<p>Since the game is already rigged against the play, the
only interesting variable is the player’s betting strategy.
Each design will permit easy
implementation of various betting approaches. The resulting
application program allow exploration of what (if any) player actions can
minimize the losses.</p>
<p>Spoiler alert: you will always lose.</p>
<p>Each game has unique features. We’ll start with the simplest and build
out toward the most complex.</p>
<p><strong>Roulette</strong>.
For those who’ve never been in a casino, or seen movies that have
casinos in them, Roulette is the game with the big wheel.  A croupier
spins the wheel and toss in a marble.  When the wheel stops spinning,
the bin in which the marble rests defines the winning outcomes.</p>
<p>Once the random choice has been made, the bets are resolved.
People who bet on the right things get money.  People who bet on the
wrong things lose money.</p>
<p>The <a class="reference internal" href="index.html#roul"><span class="std std-ref">Roulette</span></a>, section describes the necessary
application classes. The first chapter provides details on the game
and the problem that the simulation solves.</p>
<p>The second chapter is an overview of the solution,
setting out a design for the
application software. This will provide a road-map through
the solution to be built.</p>
<p>Each of the remaining sixteen chapters is a design and programming
exercise to be completed by the student. Each chapter has the same
basic structure: an overview of the components being designed, some
design details, and a summary of the deliverables to be built.</p>
<p>The chapter overview section presents some justification and rationale for the
design. This material should help the student understand why the
particular design was chosen. The design section provides a more
detailed specification of the class or classes to be built. This will
include some technical information on implementation techniques.</p>
<p>Some chapters include a Frequently Asked Questions (FAQ) section,
also. This covers somewhat more advanced material as well as tangential
topics.</p>
<p><strong>Craps</strong>.
For those who’ve never been in a casino, or seen the play “Guys and Dolls”,
Craps is the game with the dice.  A player rolls (“shoots”) the dice.  Sometimes there’s
a great deal of shouting and clapping.  A throw of the dice may – or may not –
resolve bets.  Additionally, a throw of the dice may – or may not – change
the state of the game.  A casino provides a number of visual cues
as to the state of the game and the various bets.</p>
<p>In <a class="reference internal" href="index.html#craps"><span class="std std-ref">Craps</span></a>, we build on the design patterns from Roulette.
Craps, however, is a stateful game, so there is a more sophisticated
design to handle the interactions between dice, game state, and player betting.
We exploit the <strong>State</strong> design pattern to show how the design
pattern can be applied to this common situation.</p>
<p>The first chapter of this section is background information on the game of Craps, and
the problem that the simulation solves. This will describe
some of the design considerations for a stateful game.</p>
<p>The second chapter is an
overview of the solution. This will summarize the design for the
application software. This chapter also provides a “walk-through”
of the design.</p>
<p>Each of the remaining eleven chapters is an exercise to be completed by
the student. As with the previous section, each
chapter has the same basic structure: an overview of
the component being designed, some design details, and a summary of the
deliverables to be built.</p>
<p><strong>Blackjack</strong>.
For those who’ve never been in a casino, or seen a movie with Blackjack,
Blackjack is a game with cards.  The dealer deals two cards to themselves and
each player.  One of the dealer’s card is revelaed, providing
a little bit of information on the dealer’s hand.</p>
<p>The player is confronted with two separate kinds of choices.
They can place bets. They can also ask for additional cards (“take a hit”) or
decline cards (“stand pat”.)</p>
<p>In Craps and Roulette there are a lot of bets, but few player decisions.
In Blackjack, there are few bets, but more complex player decisions.</p>
<p>In <a class="reference internal" href="index.html#blackjack"><span class="std std-ref">Blackjack</span></a>, the first two chapters are background information on the game of
Blackjack, the problem that the simulation solves.
This includes an overview of the solution.</p>
<p>Each of the remaining six chapters is an exercise to be
completed by the student. Since this is more advanced material, and
builds on previous work, this part has multiple deliverables
compressed into the individual chapters.</p>
<p><strong>Fit and Finish</strong>.
We include a few fit-and-finish issues in <a class="reference internal" href="index.html#finish"><span class="std std-ref">Fit and Finish</span></a>.  This
includes more information and examples on packaging, test automation, and documentation.</p>
<p>Additionally, this section will cover some “main program” issues required to knit
all of the software components together into a finished whole.
This is the Command-Line Interface (CLI) for running the
complete application.</p>
</div>
<div class="section" id="why-this-subject">
<h2>Why This Subject?<a class="headerlink" href="#why-this-subject" title="Permalink to this headline">¶</a></h2>
<p>Casino table games may seem like an odd choice of subject
matter for programming exercises. We find that casino games have a
number of advantages for teaching OO design and OO programming.
Here are some of the key points:</p>
<ul class="simple">
<li><p>Casino games have an almost ideal level of complexity. If the games were
too simple, the house’s edge in the outcomes would be too obvious and
people would not play. If the games were too complex, people would
not enjoy them as recreation. Years (centuries?) of
experience in the gaming industry has fine-tuned the table games to
fit nicely with the limits of our human intellect.</p></li>
<li><p>Simulation of discrete phenomena lies at the origin of
OO design. We have found it easier to
motivate, explain and justify OO design when
solving simulation problems of various types. The student can then leverage this
insight for other, non-simulation problem domains.</p></li>
<li><p>The results are statistically simple, and easy to interpret.
Probability theory has been applied by others to develop
precise expectations for each game. A simulation should produce
results consistent with the known probabilities.</p></li>
<li><p>They’re more fun than most other programming problems.</p></li>
</ul>
<p>This book does not endorse casino gaming. Indeed, one of the messages of
this book is that all casino games are biased against the player. Even
the most casual study of the results of the exercises will allow the
student to see the magnitude of the house edge in
each of the games presented. The question is not whether or not the
player in a casino loses; that’s a given. The question is “how much?”</p>
</div>
<div class="section" id="mathematical-background">
<h2>Mathematical Background<a class="headerlink" href="#mathematical-background" title="Permalink to this headline">¶</a></h2>
<p>Among the topics this book deals with in a casual – possibly
misleading – manner are probability and statitics. Experts may spot a
gaps in our exposition. For example, there isn’t a compelling
need for simulation of the simpler games of Craps and Roulette, since
they can be completely analyzed.</p>
<p>Because our primary objective is to
study programming, not casino games, we don’t mind re-solving
well-known problems. Consequently, we tend to gloss over some
foundational mathematics to focus on the programming.</p>
</div>
<div class="section" id="conventions-used-in-this-book">
<h2>Conventions Used in This Book<a class="headerlink" href="#conventions-used-in-this-book" title="Permalink to this headline">¶</a></h2>
<p>Here is how we might present code.</p>
<p class="rubric">Typical Code Python Example</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Building Skills in Object-Oriented Design V4</span>

<span class="sd">Preface Example</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">defaultdict</span>

<span class="n">combo</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">):</span>
        <span class="n">roll</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span>
        <span class="n">combo</span><span class="p">[</span><span class="n">roll</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;</span><span class="si">{n:2d}</span><span class="s2"> {combo[n] / 36:6.2%}&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple">
<li><p>We create a Python dictionary, a map from key to value. We
use the <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.defaultdict</span></code> so that missing keys are
created in the dictionary with an initial value created by the <code class="xref py py-func docutils literal notranslate"><span class="pre">int()</span></code>
function.</p></li>
<li><p>We iterate through all combinations of two dice, using
variables <code class="xref py py-obj docutils literal notranslate"><span class="pre">i</span></code> and <code class="xref py py-obj docutils literal notranslate"><span class="pre">j</span></code> to represent each die.</p></li>
<li><p>We sum the dice to create a roll.  We increment the value
in the dictionary based on the roll.</p></li>
<li><p>Finally, we print each member of the resulting dictionary.
We’ve used a sophisticated format string that interpolates
a decimal value and a floating-point percentage value.</p></li>
</ol>
<p>The output from the above program will be shown as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="mi">2</span>  <span class="mf">2.78</span><span class="o">%</span>
 <span class="mi">3</span>  <span class="mf">5.56</span><span class="o">%</span>
 <span class="mi">4</span>  <span class="mf">8.33</span><span class="o">%</span>
 <span class="mi">5</span> <span class="mf">11.11</span><span class="o">%</span>
 <span class="mi">6</span> <span class="mf">13.89</span><span class="o">%</span>
 <span class="mi">7</span> <span class="mf">16.67</span><span class="o">%</span>
 <span class="mi">8</span> <span class="mf">13.89</span><span class="o">%</span>
 <span class="mi">9</span> <span class="mf">11.11</span><span class="o">%</span>
<span class="mi">10</span>  <span class="mf">8.33</span><span class="o">%</span>
<span class="mi">11</span>  <span class="mf">5.56</span><span class="o">%</span>
<span class="mi">12</span>  <span class="mf">2.78</span><span class="o">%</span>
</pre></div>
</div>
<p>In some cases, we’ll show examples based on interactive Python.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">collections</span> <span class="k">import</span> <span class="n">Counter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">random</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rolls</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1_000</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Counter</span><span class="p">(</span><span class="n">rolls</span><span class="p">)</span><span class="o">.</span><span class="n">most_common</span><span class="p">()</span>
<span class="go">[(8, 151), (7, 150), (6, 132), (9, 108), (5, 93), (10, 87),</span>
<span class="go"> (4, 77), (11, 68), (3, 65), (12, 35), (2, 34)]</span>
</pre></div>
</div>
<p>The <cite>&gt;&gt;&gt;</cite> prompt comes from the Python run-time. In this example,
there are five statements. The result is a list of pairs, showing
the results created by a <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.Counter</span></code> object.</p>
<p>These examples show work to be done to confirm something
or learn what the proper syntax is. These kinds of examples
of interaction with Python don’t form part of the final, deliverable
software.</p>
<p>We will use the following type styles for references to a specific <code class="xref py py-class docutils literal notranslate"><span class="pre">Class</span></code>,
<code class="xref py py-meth docutils literal notranslate"><span class="pre">method()</span></code>, or <code class="xref py py-obj docutils literal notranslate"><span class="pre">variable</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Tips Look Like This</p>
<p>There will be design tips, and warnings, in the material for each
exercise. These reflect considerations and lessons learned that
aren’t typically clear to starting OO designers.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="index.html">
    <img class="logo" src="_static/cover_art.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Building Skills in Object-Oriented Design</h1>
    
  </a>
</p>









  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Preface</a><ul>
<li><a class="reference internal" href="#why-read-this-book">Why Read This Book?</a></li>
<li><a class="reference internal" href="#what-you-ll-do">What You’ll Do</a></li>
<li><a class="reference internal" href="#audience">Audience</a></li>
<li><a class="reference internal" href="#skills-required">Skills Required</a></li>
<li><a class="reference internal" href="#organization-of-this-book">Organization of This Book</a></li>
<li><a class="reference internal" href="#why-this-subject">Why This Subject?</a></li>
<li><a class="reference internal" href="#mathematical-background">Mathematical Background</a></li>
<li><a class="reference internal" href="#conventions-used-in-this-book">Conventions Used in This Book</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Building Skills in Object-Oriented Design, V4</a></li>
      <li>Next: <a href="starting/foundation.html" title="next chapter">Foundations</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Steven F. Lott.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>